<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="homepage">
  <select id="select_menu_list" parameterType="map" resultType="map">
			select a.code_name	as pmenu_name
			     , b.menu_id
			     , b.menu_name
			     , b.main_path
			     , b.pmenu_id
			     , b.sort_flag
			     , b.use_yn
			from code_master a
			   , menu_mst b
			where a.code = b.pmenu_id
			  and a.code_gubn = '014'
			  and b.menu_level = 2
			<if test="pmenu_id != null and pmenu_id != ''">
			  and b.pmenu_id = #{pmenu_id}
			</if>
			<if test="menu_name != null and menu_name != ''">
			  and b.menu_name like CONCAT('%', #{menu_name}, '%')
			</if>
			<if test="use_yn != null and use_yn != ''">
			  and b.use_yn = #{use_yn}
			</if>
			 order by a.sort_flag, b.sort_flag
  </select>
</mapper>